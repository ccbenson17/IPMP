<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: widgets/myInfographic/Widget.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: widgets/myInfographic/Widget.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>///////////////////////////////////////////////////////////////////////////
// Copyright Â© Esri. All Rights Reserved.
//
// Licensed under the Apache License Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
///////////////////////////////////////////////////////////////////////////

/**
 * @fileoverview
 * Handles functionality for displaying graphs and charts of data in web map. PickColumns controls multiple instances of this widget to display information for selected data. ({@link module:Infographic|More info})
 */
define([
	'dojo/_base/declare',
	'dojo/_base/lang',
	'dojo/_base/array',
	'dojo/_base/html',
	'dojo/query',
	'dojo/on',
	'dojo/Deferred',
	'dijit/_WidgetsInTemplateMixin',
	'dijit/popup',
	'dijit/TooltipDialog',
	'jimu/BaseWidget',
	'jimu/dijit/GridLayout',
	'jimu/LayerInfos/LayerInfos',
	'jimu/utils',
	'./DijitFactory',
	'jimu/DataSourceManager',
	'./dijits/SourceLauncher',
	'./dijits/ExtraSourceLauncher',
	'jimu/WidgetManager',
	'jimu/PanelManager',
	'./_ChartSetting',
	'./IGUtils',
	'./utils',
	'dijit/focus',
	'./a11y/widget',
	'xstyle/css!../../libs/goldenlayout/goldenlayout-base.css',
], function (
	declare,
	lang,
	array,
	html,
	query,
	on,
	Deferred,
	_WidgetsInTemplateMixin,
	dojoPopup,
	TooltipDialog,
	BaseWidget,
	GridLayout,
	LayerInfos,
	jimuUtils,
	DijitFactory,
	DataSourceManager,
	SourceLauncher,
	ExtraSourceLauncher,
	WidgetManager,
	PanelManager,
	ChartSetting,
	IGUtils,
	utils,
	focusUtil,
	a11y
) {
	var msg = ' '; // holds title of pick column
	var currentWidget = 'widgets_myInfographic_Widget_47';

	/**
	 * @module Infographic
	 */
	var clazz = declare([BaseWidget, _WidgetsInTemplateMixin], {
		name: 'myInfographic',
		baseClass: 'jimu-widget-myInfographic',
		dijits: null,
		clientFeaturesHandle: null,
		layerInfosObj: null,
		dataSource: null,
		mainDijit: null,
		mainDijitJson: null,
		mainDijitVisible: false,

		postMixInProperties: function () {
			this.inherited(arguments);
			lang.mixin(this.nls, window.jimuNls.statisticsChart);
			this.layerInfosObj = LayerInfos.getInstanceSync();
			this._loadingTypes = {};
		},

		postCreate: function () {
			this.inherited(arguments);
			this.upgradeConfig(this.config);
			this._initGolbalInfo();
			this._listenDSManagerUpdateEvent();
			//init dijit factory to create all dijit by template
			this._initDijitFactory();
			//hide runtime setting popup when click widget
			this._initSettingIconEvent();
			this.initForA11yBeforeStartup();
		},

		upgradeConfig: function (config) {
			//2.13 update config.dijit(image).config.alt
			if (!config || !config.dijits) {
				return;
			}
			var image = config.dijits.filter(function (dijit) {
				return dijit.type === 'image';
			})[0];
			if (image &amp;&amp; image.config &amp;&amp; !image.config.alt) {
				image.config.alt = window.jimuNls.common.image;
			}
		},

		startup: function () {
			this.inherited(arguments);
			//render ui by config
			this._renderByConfig(this.config);
			//init main dijit after dijits are created
			this.mainDijit = this._getMainDijit();
			//create run time setting icon
			this._createRuntimeSettingIocn(this.config);
			//check data source
			this._checkDataSource(this.config);
			//if main dijit is visible and data source is valid,
			//continue processing data sources for more information.
			if (this.mainDijitVisible &amp;&amp; this._avalidDataSource) {
				this._processdsdef = this._preprocessingDataSource();
			}
		},

		_listenDSManagerUpdateEvent: function () {
			this.exdsBeginUpdateHandle = on(
				this.dataSourceManager,
				'begin-update',
				lang.hitch(this, function (dsid) {
					this._handleLoadingStatusForExds(dsid, true);
				})
			);
		},

		_checkDataSource: function (config) {
			var dataSource = config &amp;&amp; config.dataSource;
			var res = this._checkDataSourceCode(dataSource);
			this._avalidDataSource = res.code === 0;
			if (!this._avalidDataSource &amp;&amp; this.mainDijit) {
				this.mainDijit.showNodata(res.message);
			}
		},

		onOpen: function () {
			this.removeRootNodeRole();
			//Only once the data source is initialized in startup
			//the contents of `onOpen` will be executed after init def
			if (this._processdsdef) {
				//first open
				this._processDataSource();
			} else {
				//not first open
				this._onOpenTriger();
			}
		},

		_onOpenTriger: function () {
			if (!this.mainDijitVisible || !this._avalidDataSource) {
				return;
			}

			//ensure this.domNode is wide and high
			this._isDOMInitialized().then(
				function () {
					clearInterval(this.domReadyInterval);
					this._initSourceLaunchers();
					this.initForA11y();
					this.resize();
				}.bind(this)
			);
		},

		initForA11y: function () {
			if (this.hasInitedForA11y) {
				return;
			}
			var as = query('.has-link', this.domNode);
			if (as &amp;&amp; as.length) {
				jimuUtils.initLastFocusNode(this.domNode, as[as.length - 1]);
			} else if (this.runtimeSettingIcon) {
				jimuUtils.initLastFocusNode(this.domNode, this.runtimeSettingIcon);
			} else {
				this._initDomNodeAsLastNode();
			}
			if (this.virtualFocusNode) {
				html.destroy(this.virtualFocusNode);
				this.virtualFocusNode = null;
			}
			this.hasInitedForA11y = true;
		},

		removeRootNodeRole: function () {
			if (!this.domNode) {
				return;
			}
			this.domNode.removeAttribute('role');
		},

		initForA11yBeforeStartup: function () {
			if (!this.domNode.hasAttribute('aria-label')) {
				var readText = this.getTextDijitConfigText();
				if (readText) {
					html.setAttr(this.domNode, 'aria-label', readText);
				}
			}
		},

		//called by source launcher, returns the calculated data to render widget
		_onMainValueUpdate: function (value) {
			if (!this.mainDijit) {
				return;
			}
			var type = 'MAIN';
			if (!this._shouldUpdateValue(value, type)) {
				return;
			}
			if (this.mainDijit.type === 'gauge') {
				value = this._spellGaugeValueObj();
				if (!this._isGaugeValueObjValid(value)) {
					return;
				}
			}
			this.mainDijit.onDataSourceDataUpdate(value);
			this.mainDijit.startRendering();
		},

		_onRangeValueUpdate: function (value, isFirst) {
			var prefix = isFirst ? 'RANGE1' : 'RANGE2';
			if (!this._shouldUpdateValue(value, prefix)) {
				return;
			}

			value = this._spellGaugeValueObj();

			if (!this._isGaugeValueObjValid(value)) {
				return;
			}
			this.mainDijit.onDataSourceDataUpdate(value);
			this.mainDijit.startRendering();
		},

		_processDataSource: function () {
			this.showLoading('process-ds');
			this._processdsdef.then(
				function () {
					this.hideLoading('process-ds');
					this._processdsdef = null;
					this._setDataSource();
					this._setLayerInfoToMainDijit();
					this._onOpenTriger();
				}.bind(this),
				function (error) {
					this.hideLoading('process-ds');
					this._processdsdef = null;
					console.error(error);
				}.bind(this)
			);
		},

		_setDataSource: function () {
			var dataSource = this.config &amp;&amp; this.config.dataSource;
			if (!dataSource) {
				return;
			}
			if (!this.dijits || !this.dijits.length) {
				return;
			}
			this.dijits.forEach(function (dijit) {
				dijit.setDataSource(dataSource);
			});
		},

		_initSourceLaunchers: function () {
			if (!this.config.dataSource) {
				return;
			}
			var dijitJson = this.mainDijitJson || this._getMainDijitJson();
			// If it is the first to open, create sourceLauncher, otherwise, wake up it
			if (!this.sourceLauncher) {
				this._initSourceLauncher();
				this.sourceLauncher.start();
			} else {
				this.sourceLauncher.awake();
			}
			//For gauge, we need create more extra stat source launcher for statistical range
			if (dijitJson.type === 'gauge') {
				this._initRangeSourceLauncher(dijitJson);
			}
		},

		resize: function () {
			this.inherited(arguments);
			if (this.layout) {
				this.layout.resize();
			}
			if (this.mainDijit &amp;&amp; this.mainDijit.resize) {
				this.mainDijit.resize();
			}
		},

		onClose: function () {
			if (this.sourceLauncher) {
				this.sourceLauncher.sleep();
			}
			if (this.rangeSourceLauncher1) {
				this.rangeSourceLauncher1.sleep();
			}
			if (this.rangeSourceLauncher2) {
				this.rangeSourceLauncher2.sleep();
			}
			if (this.runtimeSettingDialog &amp;&amp; this.runtimeSettingDialog.isShow) {
				dojoPopup.close(this.runtimeSettingDialog);
				this.runtimeSettingDialog.isShow = false;
			}
			// this.visible = false;
		},

		//Called when extral ds/widget output ds is changed
		onDataSourceDataUpdate: function (dsId, data) {
			this._handleLoadingStatusForExds(dsId, false);
			var ds = this.config.dataSource;
			var ds1 = this.rangeDataSource1;
			var ds2 = this.rangeDataSource2;
			if (ds &amp;&amp; dsId === ds.frameWorkDsId) {
				if (this.sourceLauncher) {
					this.sourceLauncher.setAppConfigDSFeatures(data.features);
				}
			}
			if (ds1 &amp;&amp; dsId === ds1.frameWorkDsId) {
				if (this.rangeSourceLauncher1) {
					this.rangeSourceLauncher1.setAppConfigDSFeatures(data.features);
				}
			}
			if (ds2 &amp;&amp; dsId === ds2.frameWorkDsId) {
				if (this.rangeSourceLauncher2) {
					this.rangeSourceLauncher2.setAppConfigDSFeatures(data.features);
				}
			}
		},

		_handleLoadingStatusForExds: function (dsid, show) {
			var ds = this.config.dataSource;
			var ds1 = this.rangeDataSource1;
			var ds2 = this.rangeDataSource2;
			var mdsid = ds &amp;&amp; ds.frameWorkDsId;
			var ds1id = ds1 &amp;&amp; ds1.frameWorkDsId;
			var ds2id = ds2 &amp;&amp; ds2.frameWorkDsId;
			if (dsid === mdsid || dsid === ds1id || dsid === ds2id) {
				if (show) {
					this.showLoading(dsid);
				} else {
					this.hideLoading(dsid);
				}
			}
		},

		destroy: function () {
			if (this.sourceLauncher) {
				this.sourceLauncher.destroy();
			}
			if (this.rangeSourceLauncher1) {
				this.rangeSourceLauncher1.destroy();
			}
			if (this.rangeSourceLauncher2) {
				this.rangeSourceLauncher2.destroy();
			}
			if (this.runtimeSettingDialog) {
				this.runtimeSettingDialog.destroy();
				this.runtimeSettingDialog = null;
			}
			if (this.exdsBeginUpdateHandle &amp;&amp; this.exdsBeginUpdateHandle.remove) {
				this.exdsBeginUpdateHandle.remove();
				this.exdsBeginUpdateHandle = null;
			}
			this._loadingTypes = {};
			this.inherited(arguments);
		},

		// -------- init ------
		_initGolbalInfo: function () {
			this.dataSourceManager = DataSourceManager.getInstance();
			this._features = [];
			this.layerObject = null;
			this.popupInfo = null;
			this.featureLayerForFrameWork = null;

			this.mainDijitJson = this._getMainDijitJson();
			if (!this.mainDijitJson) {
				return;
			}
			this._initRangeValue(this.mainDijitJson);
			this._ininRangeDataSource(this.mainDijitJson);
			this.mainDijitVisible = this.mainDijitJson &amp;&amp; this.mainDijitJson.visible;
			this.dijits = [];
			//igUtils used to process map data: definition, layer object, popup info ...
			this.igUtils = new IGUtils({
				appConfig: this.appConfig,
				map: this.map,
			});
		},

		_initDijitFactory: function () {
			DijitFactory.setNls(this.nls);
			DijitFactory.setMap(this.map);
			DijitFactory.setInSettingPage(false);
			DijitFactory.setAppConfig(this.appConfig);
			DijitFactory.setContext({
				folderUrl: this.folderUrl,
			});
		},

		_initSettingIconEvent: function () {
			this.on(
				'click',
				lang.hitch(this, function () {
					if (this.runtimeSettingDialog) {
						dojoPopup.close(this.runtimeSettingDialog);
					}
				})
			);
		},

		_renderByConfig: function (config) {
			if (!config || !config.layout || !config.dijits) {
				return;
			}
			this._clearDijits();
			this._createLayoutWithDijits(config);
		},

		_initRangeSourceLauncher: function (dijitJson) {
			var rangeStatistic = this._initRangeData(dijitJson);
			var rst1 = rangeStatistic.rst1;
			var rst2 = rangeStatistic.rst2;
			if (!this.rangeSourceLauncher1) {
				if (rst1 &amp;&amp; this.rangeDataSource1) {
					this._initRangeLauncher(rst1, this.rangeDataSource1, true);
					this.rangeSourceLauncher1.start();
				}
			} else {
				this.rangeSourceLauncher1.awake();
			}
			if (!this.rangeSourceLauncher2) {
				if (rst2 &amp;&amp; this.rangeDataSource2) {
					this._initRangeLauncher(rst2, this.rangeDataSource2, false);
					this.rangeSourceLauncher2.start();
				}
			} else {
				this.rangeSourceLauncher2.awake();
			}
		},

		//------------- tools ----------------------

		showLoading: function (id) {
			this._loadingTypes[id] = true;
			this._showLoading();
		},

		hideLoading: function (id) {
			this._loadingTypes[id] = false;
			var shouldHide = this._shouldHideLoading();
			if (shouldHide) {
				this._hideLoading();
			}
		},

		_shouldHideLoading: function () {
			if (!this._loadingTypes) {
				return;
			}
			var ids = Object.keys(this._loadingTypes);
			var values = ids.map(
				function (id) {
					return this._loadingTypes[id];
				}.bind(this)
			);
			return values.every(function (value) {
				return !value;
			});
		},

		_showLoading: function () {
			if (html.hasClass(this.shelter, 'hide')) {
				html.removeClass(this.shelter, 'hide');
			}
		},

		_hideLoading: function () {
			if (!html.hasClass(this.shelter, 'hide')) {
				html.addClass(this.shelter, 'hide');
			}
		},

		_HandlingOutliers: function (value) {
			if (!this.mainDijit) {
				return;
			}
			if (!utils.isValidValue(value)) {
				this.mainDijit.showNodata();
				return true;
			}
		},

		_spellGaugeValueObj: function () {
			return {
				value: this.MAIN_VALUE,
				ranges: [this.RANGE1_VALUE, this.RANGE2_VALUE],
			};
		},

		_isGaugeValueObjValid: function (value) {
			var valueObj = value;
			var ranges = valueObj &amp;&amp; valueObj.ranges;
			if (!valueObj || !ranges) {
				return false;
			}
			var mainValue = valueObj.value;
			var range1Value = ranges[0];
			var range2Value = ranges[1];

			var vaild = utils.isValidValue(mainValue) &amp;&amp; utils.isValidValue(range1Value) &amp;&amp; utils.isValidValue(range2Value);

			if (!vaild) {
				this.mainDijit.showNodata();
			}
			return vaild;
		},

		_checkDataSourceCode: function (dataSource) {
			var mainDijitJson = this.mainDijitJson;
			if (!mainDijitJson) {
				return {};
			}
			var main, r1, r2;
			main = utils.checkDataSourceIsVaild(dataSource, mainDijitJson, this.map, this.appConfig, 'value');

			if (mainDijitJson.type === 'gauge') {
				if (this.rangeDataSource1) {
					r1 = utils.checkDataSourceIsVaild(this.rangeDataSource1, mainDijitJson, this.map, this.appConfig, 'range1');
				}
				if (this.rangeDataSource2) {
					r2 = utils.checkDataSourceIsVaild(this.rangeDataSource2, mainDijitJson, this.map, this.appConfig, 'range2');
				}
			}
			var results = [main, r1, r2];
			var message = '';
			var code = utils.getCheckDataSourceResultCode(results);
			results.forEach(
				function (res) {
					message += this._getDSErrorString(res);
				}.bind(this)
			);

			return {
				code: code,
				message: message,
			};
		},

		_getDSErrorString: function (reslut) {
			var errorString = '';
			if (!reslut) {
				return errorString;
			}
			if (reslut.code === 1 || reslut.code === 3) {
				if (reslut.label === this._lastDataSourceLabel) {
					errorString = '';
				} else {
					errorString = this.nls.dataSource + ' ' + reslut.label + ' ' + this.nls.dsErrorTipSuf;
					this._lastDataSourceLabel = reslut.label;
				}
			}
			if (reslut.code === 2) {
				errorString = this.nls.fieldString + ' ' + reslut.fields.join(',') + ' ' + this.nls.dsErrorTipSuf;
			}
			return errorString;
		},

		_clearDijits: function () {
			if (this.dijits &amp;&amp; this.dijits.length) {
				this.dijits.forEach(
					lang.hitch(this, function (dijit) {
						dijit.destroy();
					})
				);
			}
			this.dijits = [];
		},

		_createLayoutWithDijits: function (config) {
			var dijitJsons = config.dijits;
			if (!dijitJsons || !dijitJsons.length) {
				return;
			}
			var components = dijitJsons.map(function (d) {
				var dijit = DijitFactory.createDijit(d);
				this.dijits.push(dijit);
				return {
					id: d.id,
					dijit: dijit,
				};
			}, this);

			this.layout = new GridLayout({
				components: components,
				layoutDefinition: config.layout.definition,
				container: this.domNode,
				editable: false,
			});

			this.layout.on(
				'initialised',
				lang.hitch(this, function () {
					array.forEach(
						this.dijits,
						lang.hitch(this, function (dijit) {
							dijit.startup();
						})
					);
				})
			);
		},

		_getMainDijit: function () {
			if (!this.dijits || !this.dijits.length) {
				return;
			}
			var dijit = null;
			var validTypes = ['number', 'gauge', 'chart'];
			dijit = this.dijits.filter(function (dijit) {
				return validTypes.indexOf(dijit.type) > -1;
			})[0]; //Now wo only support one data-needed dijit in a widget

			return dijit;
		},

		_getMainDijitJson: function () {
			if (!this.config || !this.config.dijits || !this.config.dijits.length) {
				return;
			}
			var dijit = null;
			var validTypes = ['number', 'gauge', 'chart'];
			dijit = this.config.dijits.filter(function (dijit) {
				return validTypes.indexOf(dijit.type) > -1;
			})[0]; //Now wo only support one data-needed dijit in a widget

			return dijit;
		},

		getTextDijitConfigText: function () {
			if (!this.config || !this.config.dijits || !this.config.dijits.length) {
				return;
			}
			var text = '';
			this.config.dijits.forEach(function (dijit) {
				var t = '';
				if (dijit.visible) {
					if (dijit.type === 'text') {
						t = (dijit.config &amp;&amp; dijit.config.text) || '';
					} else if (dijit.type === 'image') {
						t = (dijit.config &amp;&amp; dijit.config.alt) || '';
					}
					text += ' ' + t;
				}
			});
			return text;
		},

		_initRangeValue: function (dijitJson) {
			if (!dijitJson || dijitJson.type !== 'gauge') {
				return;
			}
			var fixedValue = utils.getRangeFixedValue(dijitJson);
			this.RANGE1_VALUE = fixedValue.range1;
			this.RANGE2_VALUE = fixedValue.range2;
		},

		_ininRangeDataSource: function (dijitJson) {
			var rds = utils.getRangeDataSource(dijitJson);
			this.rangeDataSource1 = rds.range1;
			this.rangeDataSource2 = rds.range2;
		},

		_setLayerInfoToMainDijit: function () {
			if (!this.mainDijit) {
				return;
			}
			this.mainDijit.setLayerInfo(this.layerObject, this.featureLayerForFrameWork, this.popupInfo);
		},

		_createRuntimeSettingIocn: function (config) {
			if (!this.mainDijitVisible) {
				return;
			}
			if (!config.dijits || !config.dijits.length) {
				return;
			}

			if (
				!config.dijits.some(function (d) {
					return d.visible &amp;&amp; d.type === 'chart';
				}, this)
			) {
				return;
			}

			this.runtimeSettingIcon = html.create(
				'div',
				{
					tabindex: '0',
					role: 'button',
					title: this.nls.setting,
					class: 'chart-setting',
				},
				this.domNode
			);

			this.own(on(this.runtimeSettingIcon, 'click', lang.hitch(this, this._onRuntimeSettingIconClicked)));
			this.own(on(this.runtimeSettingIcon, 'keydown', lang.hitch(this, this._onRuntimeSettingIconKeydown)));

			this.runtimeSettingDialog = new TooltipDialog({
				content: this._createChartSettingContent(config),
			});

			this.runtimeSettingDialog.isShow = false;
		},

		_onRuntimeSettingIconClicked: function (evt) {
			if (this.runtimeSettingDialog.isShow) {
				dojoPopup.close(this.runtimeSettingDialog);
				this.runtimeSettingDialog.isShow = false;
				focusUtil.focus(this.runtimeSettingIcon);
			} else {
				dojoPopup.open({
					popup: this.runtimeSettingDialog,
					around: this.runtimeSettingIcon,
				});
				if (this.chartSetting) {
					this.chartSetting.focusFirst();
				}
				this.runtimeSettingDialog.isShow = true;
			}
			evt.stopPropagation();
		},

		_createChartSettingContent: function (config) {
			var chartJson = config.dijits.filter(function (d) {
				return d.type === 'chart';
			})[0]; //we don't care more than one chart.
			if (!chartJson) {
				console.error('Unknow error');
				return '&lt;div>&lt;/div>';
			}

			if (!chartJson.config) {
				return '&lt;div>&lt;/div>';
			}

			this.chartSetting = new ChartSetting({
				chartJson: chartJson,
				chartDijit: this.dijits.filter(function (d) {
					return d.jsonId === chartJson.id;
				})[0],
				nls: this.nls,
			});
			this.own(
				on(
					this.chartSetting,
					'escape',
					function () {
						dojoPopup.close(this.runtimeSettingDialog);
						this.runtimeSettingDialog.isShow = false;
						focusUtil.focus(this.runtimeSettingIcon);
					}.bind(this)
				)
			);
			return this.chartSetting.domNode;
		},

		//Check whether DOM has been initialized, return a deferred
		_isDOMInitialized: function () {
			var deferred = new Deferred();
			setTimeout(
				function () {
					this.domReadyInterval = setInterval(
						function () {
							var dijitDomNode = this.mainDijit &amp;&amp; this.mainDijit.domNode;
							if (dijitDomNode) {
								var box = html.getMarginBox(dijitDomNode);
								if (box.w &amp;&amp; box.h) {
									deferred.resolve();
								}
							}
						}.bind(this),
						200
					);
				}.bind(this),
				200
			);

			return deferred;
		},

		_initSourceLauncher: function () {
			var ds = this.config.dataSource;
			if (!ds) {
				return;
			}
			var dijitJson = this._getMainDijitJson();
			if (!dijitJson || !dijitJson.config) {
				return;
			}
			//rds means range data source, rst means range statistic
			var mainStatistic = null;
			if (dijitJson.type === 'chart') {
				mainStatistic = utils.getStatisticForChart(dijitJson.config.data);
			} else {
				var statistic = utils.getStatisticForGauge(dijitJson.config);
				mainStatistic = statistic.value;
			}

			if (ds.dataSourceType === 'DATA_SOURCE_FROM_FRAMEWORK') {
				this.sourceLauncher = new ExtraSourceLauncher({
					appConfig: this.appConfig,
					dataSource: ds,
					statistic: mainStatistic,
					returnFeatures: dijitJson.type === 'chart',
					formatResult: false,
				});
			} else {
				this.sourceLauncher = new SourceLauncher({
					layerObject: this.layerObject,
					map: this.map,
					appConfig: this.appConfig,
					useSelection: ds.useSelection,
					filterByExtent: ds.filterByExtent,
					dataSource: ds,
					config: dijitJson.config,
					statistic: mainStatistic,
					returnFeatures: dijitJson.type === 'chart',
				});
			}

			this._listenSourceLauncherEvent();
		},

		_initRangeData: function (dijitJson) {
			if (dijitJson.type !== 'gauge') {
				return;
			}
			if (!dijitJson || !dijitJson.config) {
				return;
			}
			//rds means range data source, rst means range statistic
			var rst1, rst2;

			var statistic = utils.getStatisticForGauge(dijitJson.config);
			rst1 = statistic.range1;
			rst2 = statistic.range2;
			return {
				rst1: rst1,
				rst2: rst2,
			};
		},

		_initRangeLauncher: function (rst, rds, isFirst) {
			if (isFirst) {
				if (rst) {
					this.rangeSourceLauncher1 = new ExtraSourceLauncher({
						appConfig: this.appConfig,
						dataSource: rds,
						statistic: rst,
						returnFeatures: false,
						formatResult: true,
					});
					this._listenRangeLauncherEvent(this.rangeSourceLauncher1, true);
				}
			} else {
				if (rst) {
					this.rangeSourceLauncher2 = new ExtraSourceLauncher({
						appConfig: this.appConfig,
						dataSource: rds,
						statistic: rst,
						returnFeatures: false,
						formatResult: true,
					});
					this._listenRangeLauncherEvent(this.rangeSourceLauncher2, false);
				}
			}
		},

		_listenSourceLauncherEvent: function () {
			this.own(
				on(
					this.sourceLauncher,
					'data-update',
					lang.hitch(this, function (value) {
						this._onMainValueUpdate(value);
					})
				)
			);
			this.own(
				on(
					this.sourceLauncher,
					'loading',
					lang.hitch(this, function (id) {
						this.showLoading(id);
					})
				)
			);
			this.own(
				on(
					this.sourceLauncher,
					'unloading',
					lang.hitch(this, function (id) {
						this.hideLoading(id);
					})
				)
			);
			this.own(
				on(
					this.sourceLauncher,
					'failed',
					lang.hitch(this, function () {
						this._HandlingOutliers();
					})
				)
			);

			this.own(
				on(
					this.sourceLauncher,
					'start',
					lang.hitch(this, function () {
						this._onMainSourceLauncherStart();
					})
				)
			);
			this.own(
				on(
					this.sourceLauncher,
					'done',
					lang.hitch(this, function () {
						this._onMainSourceLauncherDone();
					})
				)
			);
		},

		_onMainSourceLauncherStart: function () {
			if (this.mainDijit &amp;&amp; typeof this.mainDijit.onUpdateDataStart === 'function') {
				this.mainDijit.onUpdateDataStart();
			}
		},

		_onMainSourceLauncherDone: function () {
			if (this.mainDijit &amp;&amp; typeof this.mainDijit.onUpdateDataDone === 'function') {
				this.mainDijit.onUpdateDataDone();
			}
		},

		_listenRangeLauncherEvent: function (rangeLauncher, isFirstRange) {
			if (!rangeLauncher) {
				return;
			}
			this.own(
				on(
					rangeLauncher,
					'data-update',
					lang.hitch(this, function (value) {
						this._onRangeValueUpdate(value, isFirstRange);
					})
				)
			);
		},

		_isDifferentValues: function (value, type) {
			var different = true;
			var oldValue = this[type + '_VALUE'];

			if (value &amp;&amp; typeof value.hasStatisticsed !== 'undefined') {
				var newAttrs = null,
					oldAttrs = null;
				if (value.features) {
					newAttrs = value.features.map(function (f) {
						return f.attributes;
					});
				}
				if (oldValue &amp;&amp; oldValue.features) {
					oldAttrs = oldValue.features.map(function (f) {
						return f.attributes;
					});
				}
				if (jimuUtils.isEqual(oldAttrs, newAttrs)) {
					different = false;
				}
			} else {
				different = value !== oldValue;
			}
			if (different) {
				this[type + '_VALUE'] = value;
			}
			return different;
		},

		_shouldUpdateValue: function (value, type) {
			var isDifferent = this._isDifferentValues(value, type);
			var isOutliers = this._HandlingOutliers(value);
			return isDifferent &amp;&amp; !isOutliers;
		},

		//get value for this.popupInfo, this.layerObject, this.featureLayerForFrameWork
		_preprocessingDataSource: function () {
			var dataSource = this.config &amp;&amp; this.config.dataSource;
			var deferred = new Deferred();
			if (!dataSource) {
				deferred.reject('Empty data source');
				return deferred;
			}
			return this.igUtils.preprocessingDataSource(dataSource).then(
				function (res) {
					this.layerObject = res &amp;&amp; res.layerObject;
					this.popupInfo = res &amp;&amp; res.popupInfo;
					this.featureLayerForFrameWork = res &amp;&amp; res.featureLayerForFrameWork;
					return;
				}.bind(this)
			);
		},
	});
	clazz.extend(a11y); //for a11y
	return clazz;
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="echarts_coord_scale_Ordinal%250D%250Dhttp___en.wikipedia.org_wiki_Level_of_measurementmodule_.html">echarts/coord/scale/Ordinalhttp://en.wikipedia.org/wiki/Level_of_measurement</a></li><li><a href="echarts-module_ECharts.html">ECharts</a></li><li><a href="echarts-module_MessageCenter.html">MessageCenter</a></li><li><a href="module-AttributeTable.html">AttributeTable</a></li><li><a href="module-BasemapGallery.html">BasemapGallery</a></li><li><a href="module-Draw.html">Draw</a></li><li><a href="module-echarts_animation_Animator.html">echarts/animation/Animator</a></li><li><a href="module-echarts_chart_helper_Line.html">echarts/chart/helper/Line</a></li><li><a href="module-echarts_chart_helper_LineDraw.html">echarts/chart/helper/LineDraw</a></li><li><a href="module-echarts_chart_helper_Symbol.html">echarts/chart/helper/Symbol</a></li><li><a href="module-echarts_chart_helper_SymbolDraw.html">echarts/chart/helper/SymbolDraw</a></li><li><a href="module-echarts_coord_Cartesian.html">echarts/coord/Cartesian</a></li><li><a href="module-echarts_coord_geo_parseGeoJson.html">echarts/coord/geo/parseGeoJson</a></li><li><a href="module-echarts_coord_geo_Region.html">echarts/coord/geo/Region</a></li><li><a href="module-echarts_core_BoundingRect.html">echarts/core/BoundingRect</a></li><li><a href="module-echarts_data_List.html">echarts/data/List</a></li><li><a href="module-echarts_model_Component.html">echarts/model/Component</a></li><li><a href="module-echarts_model_Model.html">echarts/model/Model</a></li><li><a href="module-echarts_scale_Interval.html">echarts/scale/Interval</a></li><li><a href="module-echarts_scale_Log.html">echarts/scale/Log</a></li><li><a href="module-echarts_scale_Scale.html">echarts/scale/Scale</a></li><li><a href="module-echarts_stream_Scheduler.html">echarts/stream/Scheduler</a></li><li><a href="module-Geoprocessing.html">Geoprocessing</a></li><li><a href="module-HomeButton.html">HomeButton</a></li><li><a href="module-Infographic.html">Infographic</a></li><li><a href="module-LayerList.html">LayerList</a></li><li><a href="module-MapProgress.html">MapProgress</a></li><li><a href="module-PickColumns.html">PickColumns</a></li><li><a href="module-Search.html">Search</a></li><li><a href="module-Select.html">Select</a></li><li><a href="module-Splash.html">Splash</a></li><li><a href="module-themes_LaunchpadTheme_widgets_AnchorBarController_BaseIconItem.html">themes/LaunchpadTheme/widgets/AnchorBarController/BaseIconItem</a></li><li><a href="module-themes_LaunchpadTheme_widgets_AnchorBarController_DockableItem.html">themes/LaunchpadTheme/widgets/AnchorBarController/DockableItem</a></li><li><a href="module-themes_LaunchpadTheme_widgets_AnchorBarController_GroupItems.html">themes/LaunchpadTheme/widgets/AnchorBarController/GroupItems</a></li><li><a href="module-themes_LaunchpadTheme_widgets_AnchorBarController_Widget.html">themes/LaunchpadTheme/widgets/AnchorBarController/Widget</a></li><li><a href="module-Treatment.html">Treatment</a></li><li><a href="module-widgets_Coordinate.html">widgets/Coordinate</a></li><li><a href="module-zrender_animation_Animation.html">zrender/animation/Animation</a></li><li><a href="module-zrender_animation_easing.html">zrender/animation/easing</a></li><li><a href="module-zrender_core_bbox.html">zrender/core/bbox</a></li><li><a href="module-zrender_core_curve.html">zrender/core/curve</a></li><li><a href="module-zrender_core_event.html">zrender/core/event</a></li><li><a href="module-zrender_core_PathProxy.html">zrender/core/PathProxy</a></li><li><a href="module-zrender_core_util.html">zrender/core/util</a></li><li><a href="module-zrender_graphic_Displayable.html">zrender/graphic/Displayable</a></li><li><a href="module-zrender_graphic_Group.html">zrender/graphic/Group</a></li><li><a href="module-zrender_graphic_shape_Arc.html">zrender/graphic/shape/Arc</a></li><li><a href="module-zrender_graphic_shape_Line.html">zrender/graphic/shape/Line</a></li><li><a href="module-zrender_graphic_shape_Polyline.html">zrender/graphic/shape/Polyline</a></li><li><a href="module-zrender_graphic_shape_Rect.html">zrender/graphic/shape/Rect</a></li><li><a href="module-zrender_graphic_shape_Ring.html">zrender/graphic/shape/Ring</a></li><li><a href="module-zrender_graphic_shape_Sector.html">zrender/graphic/shape/Sector</a></li><li><a href="module-zrender_Layer.html">zrender/Layer</a></li><li><a href="module-zrender_mixin_Eventful.html">zrender/mixin/Eventful</a></li><li><a href="module-zrender_mixin_RectText.html">zrender/mixin/RectText</a></li><li><a href="module-zrender_mixin_Transformable.html">zrender/mixin/Transformable</a></li><li><a href="module-zrender_shape_BezierCurve.html">zrender/shape/BezierCurve</a></li><li><a href="module-zrender_shape_Circle.html">zrender/shape/Circle</a></li><li><a href="module-zrender_shape_Polygon.html">zrender/shape/Polygon</a></li><li><a href="module-zrender_shape_util_smoothBezier.html">zrender/shape/util/smoothBezier</a></li><li><a href="module-zrender_shape_util_smoothSpline.html">zrender/shape/util/smoothSpline</a></li><li><a href="module-zrender_tool_matrix.html">zrender/tool/matrix</a></li><li><a href="module-zrender_ZRender.html">zrender/ZRender</a></li><li><a href="module-%257Becharts_model_Global%257D.html">{echarts/model/Global}</a></li><li><a href="module-%257Becharts_model_OptionManager%257D.html">{echarts/model/OptionManager}</a></li></ul><h3>Namespaces</h3><ul><li><a href="crc.html">crc</a></li><li><a href="LocalMediaStream%2520--%2520https___developer.mozilla.org_en-US_docs_WebRTC_MediaStream_API_LocalMediaStream.html">LocalMediaStream</a></li><li><a href="xhr.sendAsBinary%2520%2520https___developer.mozilla.org_ru_XMLHttpRequest_Sending_binary_content.html">Sending_binary_content</a></li></ul><h3>Classes</h3><ul><li><a href="FileAPI.Camera.html">Camera</a></li><li><a href="FileAPI.Camera.Shot.html">Shot</a></li><li><a href="modue_zrender_mixin_Animatable.html">modue:zrender/mixin/Animatable</a></li><li><a href="module-echarts_chart_helper_SymbolDraw.html">echarts/chart/helper/SymbolDraw</a></li><li><a href="module-echarts_component_marker_LineDraw.html">echarts/component/marker/LineDraw</a></li><li><a href="module-echarts_component_tooltip_TooltipContent.html">echarts/component/tooltip/TooltipContent</a></li><li><a href="module-echarts_coord_Cartesian.html">echarts/coord/Cartesian</a></li><li><a href="module-echarts_coord_Cartesian-module_echarts_coord_cartesian_Axis2D.html">echarts/coord/cartesian/Axis2D</a></li><li><a href="module-echarts_coord_scale_Interval.html">echarts/coord/scale/Interval</a></li><li><a href="module-echarts_coord_scale_Time.html">echarts/coord/scale/Time</a></li><li><a href="module-echarts_data_List.html">echarts/data/List</a></li><li><a href="module-echarts_model_Component.html">echarts/model/Component</a></li><li><a href="module-echarts_model_Model.html">echarts/model/Model</a></li><li><a href="module-zrender_animation_Animation.html">zrender/animation/Animation</a></li><li><a href="module-zrender_animation_Animator.html">zrender/animation/Animator</a></li><li><a href="module-zrender_core_LRU.html">zrender/core/LRU</a></li><li><a href="module-zrender_core_PathProxy.html">zrender/core/PathProxy</a></li><li><a href="module-zrender_Element.html">zrender/Element</a></li><li><a href="module-zrender_graphic_Group.html">zrender/graphic/Group</a></li><li><a href="module-zrender_graphic_Path.html">zrender/graphic/Path</a></li><li><a href="module-zrender_Handler.html">zrender/Handler</a></li><li><a href="module-zrender_Layer.html">zrender/Layer</a></li><li><a href="module-zrender_mixin_Eventful.html">zrender/mixin/Eventful</a></li><li><a href="module-zrender_mixin_Transformable.html">zrender/mixin/Transformable</a></li><li><a href="module-zrender_Painter.html">zrender/Painter</a></li><li><a href="module-zrender_Storage.html">zrender/Storage</a></li><li><a href="module-zrender_ZRender.html">zrender/ZRender</a></li><li><a href="zrender_graphic_Image.html">zrender/graphic/Image</a></li><li><a href="zrender_graphic_Text.html">zrender/graphic/Text</a></li><li>{<a href="module-echarts_chart_helper_Line.html">module:echarts/chart/helper/Line</a>}</li><li>{<a href="module-echarts_chart_helper_Symbol.html">module:echarts/chart/helper/Symbol</a>}</li></ul><h3>Events</h3><ul><li><a href="module-echarts_chart_helper_SymbolDraw.html#~event:legendScroll">legendScroll</a></li><li><a href="module-echarts_chart_helper_SymbolDraw.html#~event:legendSelect">legendSelect</a></li><li><a href="module-echarts_chart_helper_SymbolDraw.html#~event:legendToggleSelect">legendToggleSelect</a></li><li><a href="module-echarts_chart_helper_SymbolDraw.html#~event:legendUnSelect">legendUnSelect</a></li></ul><h3>Mixins</h3><ul><li><a href="module-echarts_chart_helper_LineDraw-%257Bmodule_zrender_mixin_Eventful%257D.html">{zrender/mixin/Eventful}</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_addExternalStyleSheets">_addExternalStyleSheets</a></li><li><a href="global.html#_addSectionTitle">_addSectionTitle</a></li><li><a href="global.html#_createLayout">_createLayout</a></li><li><a href="global.html#_createPrintMapParameters">_createPrintMapParameters</a></li><li><a href="global.html#_createPrintTask">_createPrintTask</a></li><li><a href="global.html#_createReportNote">_createReportNote</a></li><li><a href="global.html#_displayLayers">_displayLayers</a></li><li><a href="global.html#_executePrintTask">_executePrintTask</a></li><li><a href="global.html#_filters">_filters</a></li><li><a href="global.html#_findContentItemById">_findContentItemById</a></li><li><a href="global.html#_formatAndRenderTables">_formatAndRenderTables</a></li><li><a href="global.html#_getFixedThemeStyles">_getFixedThemeStyles</a></li><li><a href="global.html#_handleDataSourceForWidgets">_handleDataSourceForWidgets</a></li><li><a href="global.html#_onAppProxyForMapChanged">_onAppProxyForMapChanged</a></li><li><a href="global.html#_onAppProxyForUrlChanged">_onAppProxyForUrlChanged</a></li><li><a href="global.html#_onFieldVisibleChange">_onFieldVisibleChange</a></li><li><a href="global.html#_renderHTMLData">_renderHTMLData</a></li><li><a href="global.html#_renderTable">_renderTable</a></li><li><a href="global.html#_resetCoordinate">_resetCoordinate</a></li><li><a href="global.html#_setButtonLabels">_setButtonLabels</a></li><li><a href="global.html#_setCoordControlsTabindex">_setCoordControlsTabindex</a></li><li><a href="global.html#_setFootNotes">_setFootNotes</a></li><li><a href="global.html#_setPageSize">_setPageSize</a></li><li><a href="global.html#_setReportData">_setReportData</a></li><li><a href="global.html#_setReportLogo">_setReportLogo</a></li><li><a href="global.html#_setReportSizeMessage">_setReportSizeMessage</a></li><li><a href="global.html#_setReportTitle">_setReportTitle</a></li><li><a href="global.html#_updatePartForBetween">_updatePartForBetween</a></li><li><a href="global.html#_validateParameters">_validateParameters</a></li><li><a href="global.html#acceptValue">acceptValue</a></li><li><a href="global.html#action">action</a></li><li><a href="global.html#applyWidgetFilter">applyWidgetFilter</a></li><li><a href="global.html#calculateLayerIndex">calculateLayerIndex</a></li><li><a href="global.html#canAssignUsersToOrgGroups">canAssignUsersToOrgGroups</a></li><li><a href="global.html#canChangeUserRoles">canChangeUserRoles</a></li><li><a href="global.html#canCreateGroup">canCreateGroup</a></li><li><a href="global.html#canCreateItem">canCreateItem</a></li><li><a href="global.html#canDeleteOrgGroups">canDeleteOrgGroups</a></li><li><a href="global.html#canDeleteOrgItems">canDeleteOrgItems</a></li><li><a href="global.html#canDeleteUsers">canDeleteUsers</a></li><li><a href="global.html#canDesignateOpenDataGroups">canDesignateOpenDataGroups</a></li><li><a href="global.html#canDisableUsers">canDisableUsers</a></li><li><a href="global.html#canEditFeatures">canEditFeatures</a></li><li><a href="global.html#canEditFeaturesFullControl">canEditFeaturesFullControl</a></li><li><a href="global.html#canInviteUsers">canInviteUsers</a></li><li><a href="global.html#canJoinNonOrgGroup">canJoinNonOrgGroup</a></li><li><a href="global.html#canJoinOrgGroup">canJoinOrgGroup</a></li><li><a href="global.html#canManageEnterpriseGroups">canManageEnterpriseGroups</a></li><li><a href="global.html#canManageLicenses">canManageLicenses</a></li><li><a href="global.html#canManageMarketplace">canManageMarketplace</a></li><li><a href="global.html#canManageOpenData">canManageOpenData</a></li><li><a href="global.html#canPublishFeatures">canPublishFeatures</a></li><li><a href="global.html#canPublishScenes">canPublishScenes</a></li><li><a href="global.html#canPublishTiles">canPublishTiles</a></li><li><a href="global.html#canPurchaseMarketplace">canPurchaseMarketplace</a></li><li><a href="global.html#canReassignOrgGroups">canReassignOrgGroups</a></li><li><a href="global.html#canReassignOrgItems">canReassignOrgItems</a></li><li><a href="global.html#canShareGroupToOrg">canShareGroupToOrg</a></li><li><a href="global.html#canShareGroupToPublic">canShareGroupToPublic</a></li><li><a href="global.html#canShareItemToGroup">canShareItemToGroup</a></li><li><a href="global.html#canShareItemToOrg">canShareItemToOrg</a></li><li><a href="global.html#canShareItemToPublic">canShareItemToPublic</a></li><li><a href="global.html#canTrialMarketplace">canTrialMarketplace</a></li><li><a href="global.html#canUpdateOrgGroups">canUpdateOrgGroups</a></li><li><a href="global.html#canUpdateOrgItems">canUpdateOrgItems</a></li><li><a href="global.html#canUpdateUsers">canUpdateUsers</a></li><li><a href="global.html#canUseDemographics">canUseDemographics</a></li><li><a href="global.html#canUseElevation">canUseElevation</a></li><li><a href="global.html#canUseGeocode">canUseGeocode</a></li><li><a href="global.html#canUseGeoenrichment">canUseGeoenrichment</a></li><li><a href="global.html#canUseNetworkAnalysis">canUseNetworkAnalysis</a></li><li><a href="global.html#canUseSpatialAnalysis">canUseSpatialAnalysis</a></li><li><a href="global.html#canViewOrgGroups">canViewOrgGroups</a></li><li><a href="global.html#canViewOrgItems">canViewOrgItems</a></li><li><a href="global.html#canViewUsers">canViewUsers</a></li><li><a href="global.html#clear">clear</a></li><li><a href="global.html#constructor">constructor</a></li><li><a href="global.html#coordTextInputKeyWasPressed">coordTextInputKeyWasPressed</a></li><li><a href="global.html#cpBtnWasClicked">cpBtnWasClicked</a></li><li><a href="global.html#cpSubBtnWasClicked">cpSubBtnWasClicked</a></li><li><a href="global.html#createPages">createPages</a></li><li><a href="global.html#deactivateDrawTool">deactivateDrawTool</a></li><li><a href="global.html#destroyOnScreenWidgetsAndGroups">destroyOnScreenWidgetsAndGroups</a></li><li><a href="global.html#drawPointButtonWasClicked">drawPointButtonWasClicked</a></li><li><a href="global.html#expandButtonWasClicked">expandButtonWasClicked</a></li><li><a href="global.html#formatButtonWasClicked">formatButtonWasClicked</a></li><li><a href="global.html#formatDialogApplyButtonClicked">formatDialogApplyButtonClicked</a></li><li><a href="global.html#geomSrvcDidComplete">geomSrvcDidComplete</a></li><li><a href="global.html#geomSrvcDidFail">geomSrvcDidFail</a></li><li><a href="global.html#getCandidateParamNames">getCandidateParamNames</a></li><li><a href="global.html#getCleanInput">getCleanInput</a></li><li><a href="global.html#getCoordValues">getCoordValues</a></li><li><a href="global.html#getCurrentMapCoordinate">getCurrentMapCoordinate</a></li><li><a href="global.html#getDDPoint">getDDPoint</a></li><li><a href="global.html#getExportString">getExportString</a></li><li><a href="global.html#getFormattedCoordinates">getFormattedCoordinates</a></li><li><a href="global.html#getFormattedCoordinateText">getFormattedCoordinateText</a></li><li><a href="global.html#getFormattedDDMStr">getFormattedDDMStr</a></li><li><a href="global.html#getFormattedDDStr">getFormattedDDStr</a></li><li><a href="global.html#getFormattedDMSStr">getFormattedDMSStr</a></li><li><a href="global.html#getFormattedGARSStr">getFormattedGARSStr</a></li><li><a href="global.html#getFormattedGEOREFStr">getFormattedGEOREFStr</a></li><li><a href="global.html#getFormattedMGRSStr">getFormattedMGRSStr</a></li><li><a href="global.html#getFormattedUSNGStr">getFormattedUSNGStr</a></li><li><a href="global.html#getFormattedUTMHStr">getFormattedUTMHStr</a></li><li><a href="global.html#getFormattedUTMStr">getFormattedUTMStr</a></li><li><a href="global.html#getIcon">getIcon</a></li><li><a href="global.html#getMapCoordinateDD">getMapCoordinateDD</a></li><li><a href="global.html#getOrderableInput">getOrderableInput</a></li><li><a href="global.html#getOrderableOutput">getOrderableOutput</a></li><li><a href="global.html#getProjectedPoint">getProjectedPoint</a></li><li><a href="global.html#getStatisticsResult">getStatisticsResult</a></li><li><a href="global.html#getSupportExportFormats">getSupportExportFormats</a></li><li><a href="global.html#getWidgetFilter">getWidgetFilter</a></li><li><a href="global.html#getXYNotation">getXYNotation</a></li><li><a href="global.html#iconClass">iconClass</a></li><li><a href="global.html#iconFormat">iconFormat</a></li><li><a href="global.html#initUI">initUI</a></li><li><a href="global.html#inputError">inputError</a></li><li><a href="global.html#isAdmin">isAdmin</a></li><li><a href="global.html#isBasedOnAdmin">isBasedOnAdmin</a></li><li><a href="global.html#isBasedOnPublisher">isBasedOnPublisher</a></li><li><a href="global.html#isBasedOnUser">isBasedOnUser</a></li><li><a href="global.html#isCustom">isCustom</a></li><li><a href="global.html#isFeatureSupported">isFeatureSupported</a></li><li><a href="global.html#isPublisher">isPublisher</a></li><li><a href="global.html#isUser">isUser</a></li><li><a href="global.html#label">label</a></li><li><a href="global.html#loadAndLayout">loadAndLayout</a></li><li><a href="global.html#mapWasClicked">mapWasClicked</a></li><li><a href="global.html#name">name</a></li><li><a href="global.html#nodes">nodes</a></li><li><a href="global.html#onClose">onClose</a></li><li><a href="global.html#onExecute">onExecute</a></li><li><a href="global.html#onMinimize">onMinimize</a></li><li><a href="global.html#onNormalize">onNormalize</a></li><li><a href="global.html#parentWidget">parentWidget</a></li><li><a href="global.html#popupDidClose">popupDidClose</a></li><li><a href="global.html#postCreate">postCreate</a></li><li><a href="global.html#postMixInProperties">postMixInProperties</a></li><li><a href="global.html#print">print</a></li><li><a href="global.html#processCoordTextInput">processCoordTextInput</a></li><li><a href="global.html#profile">profile</a></li><li><a href="global.html#QRCode">QRCode</a></li><li><a href="global.html#remove">remove</a></li><li><a href="global.html#resize">resize</a></li><li><a href="global.html#setActions">setActions</a></li><li><a href="global.html#setCoordUI">setCoordUI</a></li><li><a href="global.html#setHidden">setHidden</a></li><li><a href="global.html#setMapLayout">setMapLayout</a></li><li><a href="global.html#setPosition">setPosition</a></li><li><a href="global.html#setPrivileges">setPrivileges</a></li><li><a href="global.html#setReportLayout">setReportLayout</a></li><li><a href="global.html#setSubCoordUI">setSubCoordUI</a></li><li><a href="global.html#setUIListeners">setUIListeners</a></li><li><a href="global.html#setVisible">setVisible</a></li><li><a href="global.html#showToolTip">showToolTip</a></li><li><a href="global.html#statInfo">statInfo</a></li><li><a href="global.html#stringify">stringify</a></li><li><a href="global.html#stringifyPretty">stringifyPretty</a></li><li><a href="global.html#stringifyPrivileges">stringifyPrivileges</a></li><li><a href="global.html#stringifyRole">stringifyRole</a></li><li><a href="global.html#updateDisplay">updateDisplay</a></li><li><a href="global.html#zoomButtonWasClicked">zoomButtonWasClicked</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.5</a> on Thu Dec 31 2020 13:49:27 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
